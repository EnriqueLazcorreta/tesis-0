\documentclass[utf8]{book}
\usepackage{fontspec}
\usepackage{minted}

%\setsansfont{Calibri}
%\setmonofont{Consolas}

\begin{document}
\tiny

\newenvironment{code}{\captionsetup{type=listing}}{}

\renewcommand{\theFancyVerbLine}{
  \sffamily\textcolor[rgb]{0.5,0.5,0.5}{\scriptsize\arabic{FancyVerbLine}}}

\begin{minted}[mathescape,
               linenos,
               numbersep=5pt,
               gobble=2,
               frame=lines,
               framesep=2mm]{csharp}
  string title = "This is a Unicode Ï€ in the sky"
  /* Defined as $\pi=\lim_{n\to\infty}\frac{P_n}{d}$ where $P$ is the perimeter
     of an $n$-sided regular polygon circumscribing a circle of diameter $d$. */
  const double pi = 3.1415926535
\end{minted}

%\begin{minted}
\inputminted[frame=single]{cpp}{codigo/ficheroKEEL.h}
%\end{minted}

%\begin{code}
%\begin{minted}[frame=single]{py}
%def my_func(x):
%    print x
%\end{minted}
%\caption{My Func}
%\label{lst:my_func}
%\end{code}


\end{document}

